"use strict";(globalThis.webpackChunkddb_docs=globalThis.webpackChunkddb_docs||[]).push([[786],{8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var r=i(6540);const s={},d=r.createContext(s);function t(e){const n=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(d.Provider,{value:n},e.children)}},9674:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>c,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"registry/configuration","title":"Configuration Reference","description":"The configuration file is appsettings.json, if not present it will be","source":"@site/docs/registry/configuration.md","sourceDirName":"registry","slug":"/registry/configuration","permalink":"/docs/registry/configuration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8,"sidebar_label":"Configuration Reference"},"sidebar":"tutorialSidebar","previous":{"title":"Troubleshooting","permalink":"/docs/registry/troubleshooting"},"next":{"title":"Desktop","permalink":"/docs/desktop"}}');var s=i(4848),d=i(8453);const t={sidebar_position:8,sidebar_label:"Configuration Reference"},l="Configuration Reference",a={},o=[{value:"Authentication",id:"authentication",level:2},{value:"AuthCookieName",id:"authcookiename",level:3},{value:"AuthProvider",id:"authprovider",level:3},{value:"Secret",id:"secret",level:3},{value:"TokenExpirationInDays",id:"tokenexpirationindays",level:3},{value:"RevokedTokens",id:"revokedtokens",level:3},{value:"ExternalAuthUrl",id:"externalauthurl",level:3},{value:"Database",id:"database",level:2},{value:"Use MySQL / MariaDB instead of SQLite",id:"use-mysql--mariadb-instead-of-sqlite",level:3},{value:"RegistryProvider",id:"registryprovider",level:3},{value:"HangfireProvider",id:"hangfireprovider",level:3},{value:"Storage",id:"storage",level:2},{value:"StoragePath",id:"storagepath",level:3},{value:"DatasetsPath",id:"datasetspath",level:3},{value:"TempPath",id:"temppath",level:3},{value:"CachePath",id:"cachepath",level:3},{value:"Cache",id:"cache",level:2},{value:"CacheProvider",id:"cacheprovider",level:3},{value:"ClearCacheInterval",id:"clearcacheinterval",level:3},{value:"ThumbnailsCacheExpiration",id:"thumbnailscacheexpiration",level:3},{value:"TilesCacheExpiration",id:"tilescacheexpiration",level:3},{value:"VisibilityCacheExpiration",id:"visibilitycacheexpiration",level:3},{value:"Upload &amp; Sharing",id:"upload--sharing",level:2},{value:"MaxRequestBodySize",id:"maxrequestbodysize",level:3},{value:"BatchTokenLength",id:"batchtokenlength",level:3},{value:"RandomDatasetNameLength",id:"randomdatasetnamelength",level:3},{value:"UploadBatchTimeout",id:"uploadbatchtimeout",level:3},{value:"ZipMemoryThreshold",id:"zipmemorythreshold",level:3},{value:"User Management",id:"user-management",level:2},{value:"DefaultAdmin",id:"defaultadmin",level:3},{value:"EnableStorageLimiter",id:"enablestoragelimiter",level:3},{value:"Networking",id:"networking",level:2},{value:"ExternalUrlOverride",id:"externalurloverride",level:3},{value:"Processing",id:"processing",level:2},{value:"WorkerThreads",id:"workerthreads",level:3},{value:"RemoteThumbGeneratorUrl",id:"remotethumbgeneratorurl",level:3},{value:"Scheduled Jobs",id:"scheduled-jobs",level:2},{value:"CleanupExpiredJobsCron",id:"cleanupexpiredjobscron",level:3},{value:"SyncJobStatesCron",id:"syncjobstatescron",level:3},{value:"ProcessPendingBuildsCron",id:"processpendingbuildscron",level:3},{value:"OrphanedDatasetCleanupCron",id:"orphaneddatasetcleanupcron",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"configuration-reference",children:"Configuration Reference"})}),"\n",(0,s.jsxs)(n.p,{children:["The configuration file is ",(0,s.jsx)(n.code,{children:"appsettings.json"}),", if not present it will be\ncreated with default values (",(0,s.jsx)(n.code,{children:"appsettings-default.json"}),")."]}),"\n",(0,s.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsx)(n.h3,{id:"authcookiename",children:"AuthCookieName"}),"\n",(0,s.jsx)(n.p,{children:"The name of the authorization cookie."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"jwtToken"}),"."]})}),"\n",(0,s.jsx)(n.h3,{id:"authprovider",children:"AuthProvider"}),"\n",(0,s.jsx)(n.p,{children:"The authentication provider, supported values:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Sqlite"}),": SQLite database"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Mysql"}),": MySQL or MariaDB,\n(",(0,s.jsx)(n.a,{href:"https://github.com/PomeloFoundation/Pomelo.EntityFrameworkCore.MySql#supported-database-servers-and-versions",children:"compatibility"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Mssql"}),": Microsoft SQL Server (no migrations)"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"Sqlite"})]})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"IdentityConnection"})," connection string should be changed accordingly."]}),"\n",(0,s.jsx)(n.h3,{id:"secret",children:"Secret"}),"\n",(0,s.jsx)(n.p,{children:"The secret used as key to generate the JWT tokens. Do not use the same secret for multiple applications."}),"\n",(0,s.jsx)(n.h3,{id:"tokenexpirationindays",children:"TokenExpirationInDays"}),"\n",(0,s.jsx)(n.p,{children:"The number of days after which the JWT tokens will expire."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"7"})," days."]})}),"\n",(0,s.jsx)(n.h3,{id:"revokedtokens",children:"RevokedTokens"}),"\n",(0,s.jsx)(n.p,{children:"The list of revoked JWT tokens."}),"\n",(0,s.jsx)(n.h3,{id:"externalauthurl",children:"ExternalAuthUrl"}),"\n",(0,s.jsx)(n.p,{children:"The URL of the external authentication provider."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"null"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"database",children:"Database"}),"\n",(0,s.jsx)(n.h3,{id:"use-mysql--mariadb-instead-of-sqlite",children:"Use MySQL / MariaDB instead of SQLite"}),"\n",(0,s.jsxs)(n.p,{children:["For production environments with high load, it's recommended to use MySQL or MariaDB. See the ",(0,s.jsx)(n.a,{href:"/docs/registry/getting-started#use-mysql--mariadb-instead-of-sqlite",children:"Getting Started guide"})," for setup instructions."]}),"\n",(0,s.jsx)(n.h3,{id:"registryprovider",children:"RegistryProvider"}),"\n",(0,s.jsx)(n.p,{children:"The Registry database provider, supported values:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Sqlite"}),": SQLite database"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Mysql"}),": MySQL or MariaDB, (",(0,s.jsx)(n.a,{href:"https://github.com/PomeloFoundation/Pomelo.EntityFrameworkCore.MySql#supported-database-servers-and-versions",children:"compatibility"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Mssql"}),": Microsoft SQL Server (no migrations)"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"Sqlite"})]})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"RegistryConnection"})," connection string should be changed accordingly."]}),"\n",(0,s.jsx)(n.h3,{id:"hangfireprovider",children:"HangfireProvider"}),"\n",(0,s.jsx)(n.p,{children:"The Hangfire provider, supported values:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"InMemory"}),": In-memory provider"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Mysql"}),": MySQL or MariaDB"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"InMemory"})]})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"HangfireConnection"})," connection string should be changed accordingly."]}),"\n",(0,s.jsx)(n.h2,{id:"storage",children:"Storage"}),"\n",(0,s.jsx)(n.h3,{id:"storagepath",children:"StoragePath"}),"\n",(0,s.jsx)(n.p,{children:"The path to the storage folder."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"./data"})]})}),"\n",(0,s.jsx)(n.h3,{id:"datasetspath",children:"DatasetsPath"}),"\n",(0,s.jsx)(n.p,{children:"The path to the datasets folder."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"./datasets"})]})}),"\n",(0,s.jsx)(n.h3,{id:"temppath",children:"TempPath"}),"\n",(0,s.jsx)(n.p,{children:"The path to the temporary files folder."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"./temp"})]})}),"\n",(0,s.jsx)(n.h3,{id:"cachepath",children:"CachePath"}),"\n",(0,s.jsx)(n.p,{children:"The path to the cache folder. This is used to store the generated tiles and thumbnails."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"./cache"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"cache",children:"Cache"}),"\n",(0,s.jsx)(n.h3,{id:"cacheprovider",children:"CacheProvider"}),"\n",(0,s.jsx)(n.p,{children:"The additional cache provider, supported values:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"InMemory"}),": In-memory cache provider. Example value:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{ "type": "InMemory" }\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Redis"}),": Redis cache provider. Example value:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n   "type": "Redis",\n   "settings": {\n      "InstanceAddress": "localhost:5002",\n      "InstanceName": "registry"\n   }\n}\n'})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"null"})," (",(0,s.jsx)(n.code,{children:"InMemory"})," is used)."]})}),"\n",(0,s.jsx)(n.h3,{id:"clearcacheinterval",children:"ClearCacheInterval"}),"\n",(0,s.jsx)(n.p,{children:"The interval to clear the file cache (TimeSpan)."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"01:00:00"})," (1 hour)."]})}),"\n",(0,s.jsx)(n.h3,{id:"thumbnailscacheexpiration",children:"ThumbnailsCacheExpiration"}),"\n",(0,s.jsx)(n.p,{children:"The expiration time of the thumbnails cache (TimeSpan)."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"00:30:00"})," (30 minutes)."]})}),"\n",(0,s.jsx)(n.h3,{id:"tilescacheexpiration",children:"TilesCacheExpiration"}),"\n",(0,s.jsx)(n.p,{children:"The expiration time of the tiles cache (TimeSpan)."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"00:30:00"})," (30 minutes)."]})}),"\n",(0,s.jsx)(n.h3,{id:"visibilitycacheexpiration",children:"VisibilityCacheExpiration"}),"\n",(0,s.jsx)(n.p,{children:"The expiration time for the dataset visibility cache (TimeSpan)."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"1.00:00:00"})," (1 day)."]})}),"\n",(0,s.jsx)(n.h2,{id:"upload--sharing",children:"Upload & Sharing"}),"\n",(0,s.jsx)(n.h3,{id:"maxrequestbodysize",children:"MaxRequestBodySize"}),"\n",(0,s.jsxs)(n.p,{children:["The maximum request body size. It sets the ",(0,s.jsx)(n.code,{children:"MultipartBodyLengthLimit"})," of the kestrel ",(0,s.jsx)(n.code,{children:"FormOptions"}),"."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"null"})," (default)."]})}),"\n",(0,s.jsx)(n.h3,{id:"batchtokenlength",children:"BatchTokenLength"}),"\n",(0,s.jsx)(n.p,{children:"The length of the token generated in the share endpoint."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"32"}),"."]})}),"\n",(0,s.jsx)(n.h3,{id:"randomdatasetnamelength",children:"RandomDatasetNameLength"}),"\n",(0,s.jsx)(n.p,{children:"The length of the random dataset name, generated when calling the share endpoint."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"16"}),"."]})}),"\n",(0,s.jsx)(n.h3,{id:"uploadbatchtimeout",children:"UploadBatchTimeout"}),"\n",(0,s.jsx)(n.p,{children:"The timeout for the share upload endpoint. It is the maximum time allowed between the uploads."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"01:00:00"})," (1 hour)."]})}),"\n",(0,s.jsx)(n.h3,{id:"zipmemorythreshold",children:"ZipMemoryThreshold"}),"\n",(0,s.jsx)(n.p,{children:"Memory threshold (in bytes) before using disk-based ZIP creation."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"1073741824"})," (1 GB)"]})}),"\n",(0,s.jsx)(n.h2,{id:"user-management",children:"User Management"}),"\n",(0,s.jsx)(n.h3,{id:"defaultadmin",children:"DefaultAdmin"}),"\n",(0,s.jsx)(n.p,{children:"The default admin user."}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsx)(n.p,{children:"The default value is:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "Email": "admin@example.com",\n    "UserName": "admin",\n    "Password": "password"\n}\n'})})]}),"\n",(0,s.jsx)(n.h3,{id:"enablestoragelimiter",children:"EnableStorageLimiter"}),"\n",(0,s.jsxs)(n.p,{children:["Enable the storage limiter. Registry will limit the storage usage of the user based on its metadata (",(0,s.jsx)(n.code,{children:"maxStorageMB"})," key)."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"false"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"networking",children:"Networking"}),"\n",(0,s.jsx)(n.h3,{id:"externalurloverride",children:"ExternalUrlOverride"}),"\n",(0,s.jsx)(n.p,{children:"The external URL of Registry. This is used when the application is behind a reverse proxy."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"null"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"processing",children:"Processing"}),"\n",(0,s.jsx)(n.h3,{id:"workerthreads",children:"WorkerThreads"}),"\n",(0,s.jsxs)(n.p,{children:["The number of worker threads used by the application. Use ",(0,s.jsx)(n.code,{children:"-1"})," for automatic detection."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"-1"})]})}),"\n",(0,s.jsx)(n.h3,{id:"remotethumbgeneratorurl",children:"RemoteThumbGeneratorUrl"}),"\n",(0,s.jsx)(n.p,{children:"URL of a remote thumbnail generator service for offloading thumbnail generation."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"null"})]})}),"\n",(0,s.jsx)(n.h2,{id:"scheduled-jobs",children:"Scheduled Jobs"}),"\n",(0,s.jsx)(n.h3,{id:"cleanupexpiredjobscron",children:"CleanupExpiredJobsCron"}),"\n",(0,s.jsx)(n.p,{children:"Cron expression for the job that cleans up expired jobs."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"0 * * * *"})," (every hour)"]})}),"\n",(0,s.jsx)(n.h3,{id:"syncjobstatescron",children:"SyncJobStatesCron"}),"\n",(0,s.jsx)(n.p,{children:"Cron expression for the job that synchronizes job states."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"*/5 * * * *"})," (every 5 minutes)"]})}),"\n",(0,s.jsx)(n.h3,{id:"processpendingbuildscron",children:"ProcessPendingBuildsCron"}),"\n",(0,s.jsx)(n.p,{children:"Cron expression for the job that processes pending builds."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"* * * * *"})," (every minute)"]})}),"\n",(0,s.jsx)(n.h3,{id:"orphaneddatasetcleanupcron",children:"OrphanedDatasetCleanupCron"}),"\n",(0,s.jsx)(n.p,{children:"Cron expression for the job that cleans up orphaned dataset folders. This job runs daily to remove filesystem folders that no longer have a corresponding database entry (e.g., from failed deletions)."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The default value is ",(0,s.jsx)(n.code,{children:"0 3 * * *"})," (daily at 3:00 AM)"]})})]})}function c(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);