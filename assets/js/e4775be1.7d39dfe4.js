"use strict";(globalThis.webpackChunkddb_docs=globalThis.webpackChunkddb_docs||[]).push([[5129],{1579:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"registry/getting-started","title":"Getting Started","description":"Getting Started with Docker","source":"@site/docs/registry/getting-started.md","sourceDirName":"registry","slug":"/registry/getting-started","permalink":"/docs/registry/getting-started","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"Getting Started"},"sidebar":"tutorialSidebar","previous":{"title":"Registry","permalink":"/docs/registry/"},"next":{"title":"Production Deployment","permalink":"/docs/registry/production"}}');var r=n(4848),i=n(8453);const a={sidebar_position:2,sidebar_label:"Getting Started"},d="Getting Started",o={},l=[{value:"Getting Started with Docker",id:"getting-started-with-docker",level:2},{value:"Useful Endpoints",id:"useful-endpoints",level:3},{value:"Getting Started Natively",id:"getting-started-natively",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Running",id:"running",level:3},{value:"Command Line Options",id:"command-line-options",level:3},{value:"Change admin password",id:"change-admin-password",level:3},{value:"Use MySQL / MariaDB instead of Sqlite",id:"use-mysql--mariadb-instead-of-sqlite",level:3},{value:"Running with docker-compose",id:"running-with-docker-compose",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"getting-started",children:"Getting Started"})}),"\n",(0,r.jsx)(t.h2,{id:"getting-started-with-docker",children:"Getting Started with Docker"}),"\n",(0,r.jsxs)(t.p,{children:["The fastest way to get started is with Docker. Download ",(0,r.jsx)(t.a,{href:"https://www.docker.com/community-edition",children:"Docker"})," and run:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"docker run -it --rm -p 5000:5000 -v ${PWD}/registry-data:/data dronedb/registry\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Data will be stored in the local folder ",(0,r.jsx)(t.code,{children:"registry-data"}),".\nOpen ",(0,r.jsx)(t.a,{href:"http://localhost:5000",children:"http://localhost:5000"})," in your browser to start using the application."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Default credentials"}),": ",(0,r.jsx)(t.code,{children:"admin"})," / ",(0,r.jsx)(t.code,{children:"password"})]}),"\n",(0,r.jsx)(t.admonition,{type:"warning",children:(0,r.jsxs)(t.p,{children:["Change the default password immediately after first login at ",(0,r.jsx)(t.a,{href:"http://localhost:5000/account",children:"http://localhost:5000/account"})]})}),"\n",(0,r.jsx)(t.h3,{id:"useful-endpoints",children:"Useful Endpoints"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Endpoint"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"http://localhost:5000/scalar/v1",children:"/scalar/v1"})}),(0,r.jsx)(t.td,{children:"API Documentation (Scalar UI)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"http://localhost:5000/version",children:"/version"})}),(0,r.jsx)(t.td,{children:"Version information"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"http://localhost:5000/quickhealth",children:"/quickhealth"})}),(0,r.jsx)(t.td,{children:"Quick health check (requires auth)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"http://localhost:5000/health",children:"/health"})}),(0,r.jsx)(t.td,{children:"Detailed health check (requires auth)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"http://localhost:5000/hangfire",children:"/hangfire"})}),(0,r.jsx)(t.td,{children:"Background jobs dashboard (requires auth)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"http://localhost:5000/stac",children:"/stac"})}),(0,r.jsx)(t.td,{children:"STAC Catalog root"})]})]})]}),"\n",(0,r.jsxs)(t.p,{children:["The log file is located in ",(0,r.jsx)(t.code,{children:"registry-data/logs/registry.txt"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"getting-started-natively",children:"Getting Started Natively"}),"\n",(0,r.jsx)(t.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Install the latest version of the ",(0,r.jsx)(t.a,{href:"https://github.com/DroneDB/DroneDB/releases/latest",children:"DroneDB library"})," and add it to PATH"]}),"\n",(0,r.jsxs)(t.li,{children:["Download the ",(0,r.jsx)(t.a,{href:"https://github.com/DroneDB/Registry/releases/latest",children:"latest Registry release"})," for your platform"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"running",children:"Running"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"./Registry.Web ./registry-data\n"})}),"\n",(0,r.jsx)(t.h3,{id:"command-line-options",children:"Command Line Options"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"-a, --address              (Default: localhost:5000) Address to listen on\n-c, --check                Check configuration and exit\n-r, --reset-hub            Reset the Hub folder by re-creating it\n--help                     Display this help screen\n--version                  Display version information\nStorage folder (pos. 0)    Required. Directory where Registry stores data\n"})}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["This configuration uses SQLite as the database. For production environments with high load, use MySQL/MariaDB as described in the ",(0,r.jsx)(t.a,{href:"/docs/registry/configuration#use-mysql--mariadb-instead-of-sqlite",children:"MySQL/MariaDB Configuration"})," section."]})}),"\n",(0,r.jsx)(t.h3,{id:"change-admin-password",children:"Change admin password"}),"\n",(0,r.jsxs)(t.p,{children:["Go to ",(0,r.jsx)(t.a,{href:"http://localhost:5000/account",children:"/account"})," to change password.\nOtherwise, you can change the admin password by changing the value of the field ",(0,r.jsx)(t.code,{children:"DefaultAdmin.Password"})," in the ",(0,r.jsx)(t.code,{children:"appsettings.json"})," file. After changing the password you need to restart the application."]}),"\n",(0,r.jsx)(t.h3,{id:"use-mysql--mariadb-instead-of-sqlite",children:"Use MySQL / MariaDB instead of Sqlite"}),"\n",(0,r.jsxs)(t.p,{children:["After the first run close the program and edit the file ",(0,r.jsx)(t.code,{children:"appsettings.json"})," in ",(0,r.jsx)(t.code,{children:"registry-data"})," folder:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'"AuthProvider": "Mysql",\n"RegistryProvider": "Mysql",\n"HangfireProvider": "Mysql",\n"ConnectionStrings": {\n  "IdentityConnection": "Server=db;Database=RegistryAuth;Uid=registry;Pwd=password",\n  "RegistryConnection": "Server=db;Database=RegistryData;Uid=registry;Pwd=password",\n  "HangfireConnection": "Server=db;Database=RegistryHangfire;Uid=registry;Pwd=password;Allow User Variables=true;Connect Timeout=300"\n  },\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Make sure the user ",(0,r.jsx)(t.code,{children:"registry"})," has the following permissions:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sql",children:"GRANT ALL PRIVILEGES ON *.* TO 'registry'@'%' IDENTIFIED BY 'password' WITH GRANT OPTION;\n"})}),"\n",(0,r.jsx)(t.p,{children:"Then restart the application, the databases will be automatically created."}),"\n",(0,r.jsx)(t.h2,{id:"running-with-docker-compose",children:"Running with docker-compose"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"cd docker/testing\ndocker-compose up -d\n"})}),"\n",(0,r.jsx)(t.p,{children:"The stack is composed of:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"MariaDB database"}),"\n",(0,r.jsxs)(t.li,{children:["PHPMyAdmin, exposed on port ",(0,r.jsx)(t.a,{href:"http://localhost:8080",children:"8080"})]}),"\n",(0,r.jsxs)(t.li,{children:["Registry, exposed on port ",(0,r.jsx)(t.a,{href:"http://localhost:5000",children:"5000"})]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>d});var s=n(6540);const r={},i=s.createContext(r);function a(e){const t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);