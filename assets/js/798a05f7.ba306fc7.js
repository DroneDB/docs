"use strict";(globalThis.webpackChunkddb_docs=globalThis.webpackChunkddb_docs||[]).push([[9282],{8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var i=s(6540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}},8561:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"registry/datasets","title":"Datasets","description":"On-Demand Processing","source":"@site/docs/registry/datasets.md","sourceDirName":"registry","slug":"/registry/datasets","permalink":"/docs/registry/datasets","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"sidebar_label":"Datasets"},"sidebar":"tutorialSidebar","previous":{"title":"Production Deployment","permalink":"/docs/registry/production"},"next":{"title":"STAC API","permalink":"/docs/registry/stac-api"}}');var t=s(4848),r=s(8453);const a={sidebar_position:4,sidebar_label:"Datasets"},l="Datasets",d={},o=[{value:"On-Demand Processing",id:"on-demand-processing",level:2},{value:"Panorama Viewer",id:"panorama-viewer",level:3},{value:"Chunked Uploads",id:"chunked-uploads",level:3},{value:"User Management",id:"user-management",level:2},{value:"Dataset Visibility",id:"dataset-visibility",level:2},{value:"Dataset Deletion",id:"dataset-deletion",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"datasets",children:"Datasets"})}),"\n",(0,t.jsx)(n.h2,{id:"on-demand-processing",children:"On-Demand Processing"}),"\n",(0,t.jsx)(n.p,{children:"Registry automatically generates optimized formats for visualization:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Source"}),(0,t.jsx)(n.th,{children:"Generated Format"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"GeoTIFF"})}),(0,t.jsx)(n.td,{children:"COG (Cloud Optimized GeoTIFF)"}),(0,t.jsx)(n.td,{children:"Efficient streaming for large orthophotos"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Point Clouds"})}),(0,t.jsx)(n.td,{children:"EPT/COPC"}),(0,t.jsx)(n.td,{children:"Streaming format via Potree viewer"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"3D Models"})}),(0,t.jsx)(n.td,{children:"NXS (Nexus)"}),(0,t.jsx)(n.td,{children:"Progressive streaming for 3D meshes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Images"})}),(0,t.jsx)(n.td,{children:"Thumbnails, WebP tiles"}),(0,t.jsx)(n.td,{children:"Fast previews and map tiles"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["Processing happens in background via Hangfire jobs. Monitor progress at ",(0,t.jsx)(n.code,{children:"/hangfire"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"panorama-viewer",children:"Panorama Viewer"}),"\n",(0,t.jsx)(n.p,{children:"Registry includes a built-in 360\xb0 panorama viewer for immersive visualization:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Automatic detection"}),": Images with aspect ratio \u2265 2:1 are classified as panoramas"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"GPS support"}),": GeoPanoramas include location data displayed on maps"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Interactive controls"}),": Pan, zoom, and fullscreen viewing"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"To upload panoramas, simply add them to a dataset like any other image. Registry will automatically detect and render them with the panorama viewer."}),"\n",(0,t.jsx)(n.h3,{id:"chunked-uploads",children:"Chunked Uploads"}),"\n",(0,t.jsx)(n.p,{children:"For large files, Registry supports chunked uploads:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Files are split into manageable chunks for reliable upload"}),"\n",(0,t.jsx)(n.li,{children:"Automatic resume on connection failures"}),"\n",(0,t.jsxs)(n.li,{children:["No file size limits (configurable via ",(0,t.jsx)(n.code,{children:"MaxRequestBodySize"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The DroneDB CLI (",(0,t.jsx)(n.code,{children:"ddb push"}),") handles chunked uploads automatically."]}),"\n",(0,t.jsx)(n.h2,{id:"user-management",children:"User Management"}),"\n",(0,t.jsx)(n.p,{children:"Registry includes a comprehensive user management system with role-based access control."}),"\n",(0,t.jsx)(n.admonition,{title:"Full Documentation",type:"info",children:(0,t.jsxs)(n.p,{children:["For complete details on user management including API endpoints, roles, organizations, storage quotas, and authentication, see the dedicated ",(0,t.jsx)(n.a,{href:"/docs/user-management",children:"User Management Guide"}),"."]})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"User account creation and administration"}),"\n",(0,t.jsx)(n.li,{children:"Role-based access control with custom roles"}),"\n",(0,t.jsx)(n.li,{children:"Organization membership management"}),"\n",(0,t.jsx)(n.li,{children:"Per-user storage quotas"}),"\n",(0,t.jsx)(n.li,{children:"JWT authentication with external provider support"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"dataset-visibility",children:"Dataset Visibility"}),"\n",(0,t.jsx)(n.p,{children:"Datasets support three visibility levels:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Level"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Private"})}),(0,t.jsx)(n.td,{children:"Only the owner and admins can access"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Unlisted"})}),(0,t.jsx)(n.td,{children:"Accessible with direct link, not listed publicly"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Public"})}),(0,t.jsx)(n.td,{children:"Visible to everyone, included in STAC catalog"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"Change visibility using:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Web UI"}),": Dataset settings"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"CLI"}),": ",(0,t.jsx)(n.code,{children:"ddb chattr +public"})," or ",(0,t.jsx)(n.code,{children:"ddb chattr -public"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"dataset-deletion",children:"Dataset Deletion"}),"\n",(0,t.jsxs)(n.p,{children:["When you delete a dataset, Registry uses a ",(0,t.jsx)(n.strong,{children:"deferred deletion"})," approach for reliability:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Immediate"}),": The dataset is removed from the database instantly, so it disappears from the UI"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Background cleanup"}),": A Hangfire job handles:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Cancelling any active build jobs (tiles, thumbnails, 3D conversions)"}),"\n",(0,t.jsx)(n.li,{children:"Removing job tracking entries"}),"\n",(0,t.jsx)(n.li,{children:"Deleting the filesystem folder"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This approach ensures that:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Users get immediate feedback when deleting datasets"}),"\n",(0,t.jsx)(n.li,{children:"Active build processes don't block deletion"}),"\n",(0,t.jsx)(n.li,{children:"Locked files (e.g., during 3D model conversion) don't cause errors"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["If the background cleanup fails (e.g., files still locked), a daily recurring job (",(0,t.jsx)(n.code,{children:"cleanup-orphaned-datasets"}),") will automatically clean up any orphaned folders."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["You can monitor cleanup jobs in the Hangfire dashboard at ",(0,t.jsx)(n.code,{children:"/hangfire"})," on your Registry instance."]})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);