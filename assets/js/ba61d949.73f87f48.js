"use strict";(globalThis.webpackChunkddb_docs=globalThis.webpackChunkddb_docs||[]).push([[1415],{1470:(e,n,t)=>{t.d(n,{A:()=>S});var r=t(6540),a=t(4164),i=t(7559),s=t(3104),o=t(6347),d=t(205),l=t(7485),c=t(1682),u=t(679);function h(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function g(e){const{values:n,children:t}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:t,default:r}})=>({value:e,label:n,attributes:t,default:r}))}(t);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function p({value:e,tabValues:n}){return n.some(n=>n.value===e)}function m({queryString:e=!1,groupId:n}){const t=(0,o.W6)(),a=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(a),(0,r.useCallback)(e=>{if(!a)return;const n=new URLSearchParams(t.location.search);n.set(a,e),t.replace({...t.location,search:n.toString()})},[a,t])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,i=g(e),[s,o]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:i})),[l,c]=m({queryString:t,groupId:a}),[h,f]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,a]=(0,u.Dv)(n);return[t,(0,r.useCallback)(e=>{n&&a.set(e)},[n,a])]}({groupId:a}),b=(()=>{const e=l??h;return p({value:e,tabValues:i})?e:null})();(0,d.A)(()=>{b&&o(b)},[b]);return{selectedValue:s,selectValue:(0,r.useCallback)(e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),c(e),f(e)},[c,f,i]),tabValues:i}}var b=t(2303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=t(4848);function v({className:e,block:n,selectedValue:t,selectValue:r,tabValues:i}){const o=[],{blockElementScrollPositionUntilNextRender:d}=(0,s.a_)(),l=e=>{const n=e.currentTarget,a=o.indexOf(n),s=i[a].value;s!==t&&(d(n),r(s))},c=e=>{let n=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},e),children:i.map(({value:e,label:n,attributes:r})=>(0,j.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{o.push(e)},onKeyDown:c,onClick:l,...r,className:(0,a.A)("tabs__item",x.tabItem,r?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:t}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===t);return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:i.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function w(e){const n=f(e);return(0,j.jsxs)("div",{className:(0,a.A)(i.G.tabs.container,"tabs-container",x.tabList),children:[(0,j.jsx)(v,{...n,...e}),(0,j.jsx)(y,{...n,...e})]})}function S(e){const n=(0,b.A)();return(0,j.jsx)(w,{...e,children:h(e.children)},String(n))}},4133:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>u,default:()=>m,frontMatter:()=>c,metadata:()=>r,toc:()=>g});const r=JSON.parse('{"id":"cli","title":"CLI","description":"Command Line Interface for DroneDB","source":"@site/docs/cli.mdx","sourceDirName":".","slug":"/cli","permalink":"/docs/cli","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"description":"Command Line Interface for DroneDB"},"sidebar":"tutorialSidebar","previous":{"title":"Registry","permalink":"/docs/registry"},"next":{"title":"User Management","permalink":"/docs/user-management"}}');var a=t(4848),i=t(8453);function s(e){const n={code:"code",h3:"h3",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h3,{id:"add",children:"add"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Add files and directories to an index.\n\nUsage:\n  ddb add *.JPG [args] [PATHS]\n\n  -w, --working-dir arg  Working directory (default: .)\n  -r, --recursive        Recursively add subdirectories and files\n  -p, --paths arg        Paths to add to index (files or directories)\n  -h, --help             Print help\n      --debug            Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"build",children:"build"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Build DroneDB files for efficient streaming over a network.\n\nUsage:\n  ddb build [-p path/to/file.laz] [--output out_dir] [args]\n\n  -o, --output arg       Output folder (default: .ddb/build)\n  -p, --path arg         File to process\n  -w, --working-dir arg  Working directory (default: .)\n  -f, --force            Force rebuild\n  -h, --help             Print help\n      --debug            Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"chattr",children:"chattr"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Manage database attributes\n\nAttributes:\n\tpublic\tmark database as publicly accessible\n\n\nUsage:\n  ddb chattr [+-attribute] [args]\n\n  -w, --working-dir arg  Working directory (default: .)\n  -h, --help             Print help\n      --debug            Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"clone",children:"clone"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Clone a repository into a new directory\n\nClones a repository into a newly created directory.\n\nUsage:\n  ddb clone (tag|url) folder [args]\n\n  -t, --target arg  Repository tag or full url\n  -f, --folder arg  Target folder (default: )\n  -h, --help        Print help\n      --debug       Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"cog",children:"cog"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Build a Cloud Optimized GeoTIFF from an existing GeoTIFF.\n\nUsage:\n  ddb cog cog.tif input.tif [args]\n\n  -o, --output arg  Output Cloud Optimized GeoTIFF\n  -i, --input arg   Input GeoTIFF to process\n  -h, --help        Print help\n      --debug       Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"delta",children:"delta"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Generate delta between two ddb databases\n\nOutputs the delta that applied to target turns it into source\n\nUsage:\n  ddb delta source target [args]\n\n  -s, --source arg  Source ddb\n  -t, --target arg  Target ddb (default: .)\n  -f, --format arg  Output format (text|json) (default: text)\n  -h, --help        Print help\n      --debug       Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"ept",children:"ept"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Build an EPT index from point cloud files.\n\nUsage:\n  ddb ept outdir/ *.las [args]\n\n  -o, --output arg  Output directory where to store EPT data\n  -i, --input arg   File(s) to process\n  -h, --help        Print help\n      --debug       Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"geoproj",children:"geoproj"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Project images to georeferenced rasters\n\nUsage:\n  ddb geoproj output/ *.JPG [args]\n\n  -o, --output arg  Output path (file or directory)\n  -i, --images arg  Images to project\n  -s, --size arg    Output image size (size[%]|0) (default: 100%)\n  -h, --help        Print help\n      --debug       Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"info",children:"info"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Retrieve information about files and directories\n\nUsage:\n  ddb info *.JPG [args]\n\n  -i, --input arg     File(s) to examine\n  -o, --output arg    Output file to write results to (default: stdout)\n  -f, --format arg    Output format (text|json|geojson) (default: text)\n  -r, --recursive     Recursively search in subdirectories\n  -d, --depth arg     Max recursion depth (default: 0)\n      --geometry arg  Geometry to output (for geojson format only)\n                      (auto|point|polygon) (default: auto)\n      --with-hash     Compute SHA256 hashes\n  -h, --help          Print help\n      --debug         Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"init",children:"init"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Initialize an index. If a directory is not specified, initializes the index in the current directory\n\nUsage:\n  ddb init [args] [DIRECTORY]\n\n  -w, --working-dir arg  Working directory (default: .)\n      --from-scratch     Create the index database from scratch instead of\n                         using a prebuilt one (slower)\n  -h, --help             Print help\n      --debug            Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"list",children:"list"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"List indexed files and directories\n\nUsage:\n  ddb list *.JPG [args]\n\n  -i, --input arg        File(s) to list\n  -o, --output arg       Output file to write results to (default: stdout)\n  -w, --working-dir arg  Working directory (default: .)\n  -r, --recursive        Recursively search in subdirectories\n  -d, --depth arg        Max recursion depth (default: 0)\n  -f, --format arg       Output format (text|json) (default: text)\n  -h, --help             Print help\n      --debug            Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"login",children:"login"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Authenticate with a registry.\n\nUsage:\n  ddb login [args]\n\n      --server arg    Registry server to authenticate to (default:\n                      hub.dronedb.app)\n  -u, --username arg  Username\n  -p, --password arg  Password\n  -h, --help          Print help\n      --debug         Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"logout",children:"logout"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Logout from all registries. To logout from a single registry, use the --server option.\n\nUsage:\n  ddb logout [args]\n\n      --server arg  Registry server to logout from (default: hub.dronedb.app)\n  -h, --help        Print help\n      --debug       Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"meta",children:"meta"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Manage database metadata\n\nUsage:\n  ddb meta [add|set|rm|get|unset|ls|dump|restore] [key|ID] [data] [-p path] [args]\n\n  -c, --command arg      Command\n  -k, --key arg          Metadata key/ID (default: )\n  -p, --path arg         Path to associate metadata with (default: )\n  -d, --data arg         Data string|number|JSON to set (default: )\n  -w, --working-dir arg  Working directory (default: .)\n  -f, --format arg       Output format (text|json) (default: text)\n  -h, --help             Print help\n      --debug            Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"nxs",children:"nxs"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Generate nexus (NXS/NXZ) files from OBJs.\n\nUsage:\n  ddb nxs model.obj [output.nxz|output.nxs] [args]\n\n  -i, --input arg   File to process\n  -o, --output arg  Nexus output file\n      --overwrite   Overwrite output file if it exists\n  -h, --help        Print help\n      --debug       Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"password",children:"password"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Manage database passwords\n\nUsage:\n  ddb password [a,append|v,verify|c,clear] [password] [args]\n\n  -w, --working-dir arg  Working directory (default: .)\n  -c, --command arg      Command to execute\n  -a, --argument arg     Command argument (default: )\n  -h, --help             Print help\n      --debug            Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"pull",children:"pull"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Pulls changes from a remote repository.\n\nUsage:\n  ddb pull\n\n  -r, --remote arg   The remote Registry (default: )\n  -t, --keep-theirs  Keep changes from remote registry and override local\n                     ones\n  -o, --keep-ours    Keep local changes override remote ones\n  -h, --help         Print help\n      --debug        Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"push",children:"push"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Pushes changes to a remote repository.\n\nUsage:\n  ddb push [remote] [args]\n\n  -r, --remote arg  The remote Registry (default: )\n  -h, --help        Print help\n      --debug       Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"remove",children:"remove"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Remove files and directories from an index. The filesystem is left unchanged (actual files and directories will not be removed)\n\nUsage:\n  ddb rm image1.JPG image2.JPG [...] [args] [PATHS]\n\n  -w, --working-dir arg  Working directory (default: .)\n  -p, --paths arg        Paths to remove from index (files or directories)\n  -h, --help             Print help\n      --debug            Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"search",children:"search"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Search indexed files and directories\n\nUsage:\n  ddb search '*file*' [args]\n\n  -q, --query arg        Search query\n  -w, --working-dir arg  Working directory (default: .)\n  -f, --format arg       Output format (text|json) (default: text)\n  -h, --help             Print help\n      --debug            Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"setexif",children:"setexif"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Modify EXIF values in files.\n\nUsage:\n  ddb setexif *.JPG [args]\n\n  -i, --input arg    File(s) to modify\n      --gps-alt arg  Set GPS Altitude (decimal degrees)\n      --gps-lon arg  Set GPS Longitude (decimal degrees)\n      --gps-lat arg  Set GPS Latitude (decimal degrees)\n      --gps arg      Set GPS Latitude,Longitude,Altitude (decimal degrees,\n                     comma separated)\n  -h, --help         Print help\n      --debug        Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"share",children:"share"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Share files and folders to a registry\n\nUsage:\n  ddb share *.JPG [args]\n\n  -i, --input arg     Files and directories to share\n  -r, --recursive     Recursively share subdirectories\n  -t, --tag arg       Tag to use (organization/dataset or\n                      server[:port]/organization/dataset) (default: hub.dronedb.app//)\n  -p, --password arg  Optional password to protect dataset (default: )\n  -s, --server arg    Registry server to share dataset with (alias of: -t\n                      <server>//)\n  -q, --quiet         Do not display progress\n  -h, --help          Print help\n      --debug         Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"stac",children:"stac"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Generate STAC catalogs\n\nUsage:\n  ddb stac\n\n  -w, --working-dir arg         Working directory (default: .)\n  -p, --path arg                Entry path to generate a STAC item for (which\n                                must be part of the DroneDB index) (default:\n                                )\n      --stac-catalog-root arg   STAC Catalog absolute URL (default: )\n      --stac-collection-root arg\n                                STAC Collection absolute URL (default: .)\n      --id arg                  Set STAC id explicitely instead of using the\n                                directory name (default: )\n  -h, --help                    Print help\n      --debug                   Show debug output\n"})}),"\n",(0,a.jsx)(n.h3,{id:"stamp",children:"stamp"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Generate a stamp of the current index.\n\nUsage:\n  ddb stamp\n\n  -w, --working-dir arg  Working directory (default: .)\n  -f, --format arg       Output format (text|json) (default: text)\n  -h, --help             Print help\n      --debug            Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"status",children:"status"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Show files and directories index status compared to the filesystem\n\nUsage:\n  ddb status [directory] [args]\n\n  -w, --working-dir arg  Working directory (default: .)\n  -h, --help             Print help\n      --debug            Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"sync",children:"sync"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Sync files and directories in the index with changes from the filesystem\n\nUsage:\n  ddb sync\n\n  -w, --working-dir arg  Working directory (default: .)\n  -h, --help             Print help\n      --debug            Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"system",children:"system"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Manage ddb\n\nCommands:\n\tclean\tCleanup user cache files\n\n\nUsage:\n  ddb system COMMAND\n\n  -c, --command arg  Command (default: )\n  -h, --help         Print help\n      --debug        Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"tag",children:"tag"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Gets or sets the dataset tag.\n\nUsage:\n  ddb tag [tag] [args]\n\n  -t, --tag arg  New tag (default: )\n  -h, --help     Print help\n      --debug    Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"thumbs",children:"thumbs"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Generate thumbnails for images and rasters\n\nUsage:\n  ddb thumbs [image.tif | *.JPG] -o [thumb.jpg | output/] [args]\n\n  -i, --input arg   File(s) to process\n  -o, --output arg  Output file or directory where to store thumbnail(s)\n  -s, --size arg    Size of the largest side of the images (default: 512)\n      --use-crc     Use CRC for output filenames\n  -h, --help        Print help\n      --debug       Show debug output\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"tile",children:"tile"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'Generate tiles for GeoTIFFs, GeoImages and EPT\n\nUsage:\n  ddb tile [geo.tif | image.jpg | ept.json | https://host.com/cog.tif | https://host.com/image.jpg | https://host.com/ept.json] [output directory] [args]\n\n  -i, --input arg   Path or URL to file to tile\n  -o, --output arg  Output directory where to store tiles (default:\n                    {filename}_tiles/)\n  -f, --format arg  Output format (text|json) (default: text)\n  -z, arg           Zoom levels, either a single zoom level "N" or a range\n                    "min-max" or "auto" to generate all zoom levels (default:\n                    auto)\n  -x, arg           Generate a single tile with the specified coordinate\n                    (XYZ, unless --tms is used). Must be used with -y (default:\n                    auto)\n  -y, arg           Generate a single tile with the specified coordinate\n                    (XYZ, unless --tms is used). Must be used with -x (default:\n                    auto)\n  -s, --size arg    Tile size (default: 256)\n      --tms         Generate TMS tiles instead of XYZ\n  -h, --help        Print help\n      --debug       Show debug output\n\n'})})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(s,{...e})}):s(e)}t(6540),t(5195);var d=t(1470),l=t(9365);const c={sidebar_position:4,description:"Command Line Interface for DroneDB"},u="CLI",h={},g=[{value:"Installation",id:"installation",level:2},{value:"Examples",id:"examples",level:2},{value:"Sharing datasets",id:"sharing-datasets",level:3},{value:"Editing datasets",id:"editing-datasets",level:3},{value:"Metadata Entries",id:"metadata-entries",level:3},{value:"Projecting images",id:"projecting-images",level:3},{value:"Creating static tiles (XYZ/TMS)",id:"creating-static-tiles-xyztms",level:3},{value:"Building point cloud tiles (EPT)",id:"building-point-cloud-tiles-ept",level:3},{value:"Generating Cloud Optimized GeoTIFFs (COG)",id:"generating-cloud-optimized-geotiffs-cog",level:3},{value:"Extracting GPS locations/footprints to GeoJSON",id:"extracting-gps-locationsfootprints-to-geojson",level:3},{value:"Generating STAC Catalogs",id:"generating-stac-catalogs",level:3},{value:"Building 3D Model Tiles (Nexus)",id:"building-3d-model-tiles-nexus",level:3},{value:"Generating Thumbnails",id:"generating-thumbnails",level:3},{value:"Commands Reference",id:"commands-reference",level:2},{value:"add",id:"add",level:3},{value:"build",id:"build",level:3},{value:"chattr",id:"chattr",level:3},{value:"clone",id:"clone",level:3},{value:"cog",id:"cog",level:3},{value:"delta",id:"delta",level:3},{value:"ept",id:"ept",level:3},{value:"geoproj",id:"geoproj",level:3},{value:"info",id:"info",level:3},{value:"init",id:"init",level:3},{value:"list",id:"list",level:3},{value:"login",id:"login",level:3},{value:"logout",id:"logout",level:3},{value:"meta",id:"meta",level:3},{value:"nxs",id:"nxs",level:3},{value:"password",id:"password",level:3},{value:"pull",id:"pull",level:3},{value:"push",id:"push",level:3},{value:"remove",id:"remove",level:3},{value:"search",id:"search",level:3},{value:"setexif",id:"setexif",level:3},{value:"share",id:"share",level:3},{value:"stac",id:"stac",level:3},{value:"stamp",id:"stamp",level:3},{value:"status",id:"status",level:3},{value:"sync",id:"sync",level:3},{value:"system",id:"system",level:3},{value:"tag",id:"tag",level:3},{value:"thumbs",id:"thumbs",level:3},{value:"tile",id:"tile",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"cli",children:"CLI"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"ddb"})," is a command line interface (CLI) to access DroneDB's functions. This makes it ideal for power users and for creating automated workflows."]}),"\n",(0,a.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsxs)(d.A,{children:[(0,a.jsxs)(l.A,{value:"windows",label:"Windows",default:!0,children:[(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Download ",(0,a.jsx)(n.a,{href:"https://github.com/DroneDB/DroneDB/releases/latest",children:"the latest release"})," from GitHub"]}),"\n",(0,a.jsx)(n.li,{children:"Extract the archive and add the folder to your PATH"}),"\n",(0,a.jsx)(n.li,{children:"Verify it's working:"}),"\n"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"C:\\> ddb --version\nx.x.x (git commit xxxxxxx)\n"})}),(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:"The version number will vary depending on the release you downloaded."})})]}),(0,a.jsxs)(l.A,{value:"linux",label:"Linux (Debian/Ubuntu)",children:[(0,a.jsxs)(n.p,{children:["Download the ",(0,a.jsx)(n.code,{children:".deb"})," package from the ",(0,a.jsx)(n.a,{href:"https://github.com/DroneDB/DroneDB/releases/latest",children:"latest release"})," and install it:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ sudo dpkg -i dronedb_x.x.x_amd64.deb\n$ ddb --version\nx.x.x (git commit xxxxxxx)\n"})}),(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:"Only Debian-based distributions (Debian, Ubuntu, Linux Mint, etc.) are officially supported."})})]})]}),"\n",(0,a.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsxs)(n.p,{children:["You can perform all sorts of operations with ",(0,a.jsx)(n.code,{children:"ddb"}),". We recommend checking out\nthe list of ",(0,a.jsx)(n.a,{href:"#commands-reference",children:"commands"}),":"]}),"\n",(0,a.jsx)(n.h3,{id:"sharing-datasets",children:"Sharing datasets"}),"\n",(0,a.jsx)(n.p,{children:"From a directory with images, simply type:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb share *.JPG\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["By default the images are shared with ",(0,a.jsx)(n.a,{href:"https://hub.dronedb.app",children:"Hub"}),". You will need to\n",(0,a.jsx)(n.a,{href:"https://dronedb.app",children:"register an account"})," to get a username and\npassword. But you can also self-host your own\n",(0,a.jsx)(n.a,{href:"./registry",children:"Registry"}),"."]})}),"\n",(0,a.jsx)(n.p,{children:"You can select a different server by typing:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb share *.JPG -s http://localhost:5000\n--\x3e https://localhost:5000/r/admin/193514313aba4949ab5578b28ba1dd5b\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Because we didn't set a ",(0,a.jsx)(n.code,{children:"tag"}),", ddb generated a random one for you.\nYou can change the tag by visiting the URL. You can also explicitly set\na tag, like so:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb share *.JPG -t pierotofy/brighton\n"})}),"\n",(0,a.jsx)(n.p,{children:"Or if you're running your own Registry:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb share *.JPG -t http://localhost:5000/admin/brighton\n"})}),"\n",(0,a.jsx)(n.p,{children:"Tags are defined as:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"[server]/organization/dataset"})}),"\n",(0,a.jsx)(n.p,{children:"With the server component being optional."}),"\n",(0,a.jsx)(n.h3,{id:"editing-datasets",children:"Editing datasets"}),"\n",(0,a.jsx)(n.p,{children:"Using the Web UI provided by Registry is the easiest way to make\nchanges."}),"\n",(0,a.jsxs)(n.p,{children:["You can also ",(0,a.jsx)(n.code,{children:"clone"})," (download) an existing dataset from a\nRegistry for offline use, make modifications, then sync back your\nchanges."]}),"\n",(0,a.jsxs)(n.p,{children:["Let's use this dataset:\n",(0,a.jsx)(n.a,{href:"https://hub.dronedb.app/r/pierotofy/brighton-beach",children:"https://hub.dronedb.app/r/pierotofy/brighton-beach"})]}),"\n",(0,a.jsx)(n.p,{children:"You can clone it via:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb clone pierotofy/brighton-beach\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Let's add a ",(0,a.jsx)(n.code,{children:"README.md"})," file that describes the dataset. Create a\n",(0,a.jsx)(n.code,{children:"README.md"})," file using\n",(0,a.jsx)(n.a,{href:"https://www.markdownguide.org/cheat-sheet/",children:"Markdown"})," syntax and save\nit in the ",(0,a.jsx)(n.code,{children:"brighton-beach"})," directory. Afterwards:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd brighton-beach/\nddb add README.md\n"})}),"\n",(0,a.jsx)(n.p,{children:"Great! We are now ready to push the changes."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb push\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Uuups! This will trigger an error, since we don't have permission to\nmake modifications to this dataset (it belongs to ",(0,a.jsx)(n.code,{children:"pierotofy"}),"). Let's\nmake our own copy to a different Registry server and user:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb tag http://localhost:5000/admin/brighton-copy\nddb push\n"})}),"\n",(0,a.jsx)(n.h3,{id:"metadata-entries",children:"Metadata Entries"}),"\n",(0,a.jsx)(n.p,{children:"DroneDB supports the addition of metadata to any file or directory\nwithin the index. This can be used to store information of any kind in\nJSON format:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'ddb meta set pilot \'{"name": "John Smith"}\'\nddb meta get pilot --format json\n# Output: {"data":{"name":"John S."},"id":"ff4f0f26-8741-4423-bde5-b445750937bb","mtime":1640985850}\n\nddb add photo.JPG\nddb meta add comments \'{"text": "Nice one!", "author": "John S."}\' -p photo.JPG\nddb meta get comments -p photo.JPG --format json\n# Output: [{"data":{"author":"John S.","text":"Nice one!"},"id":"550d0b5c-108b-4996-b7e8-467b4cb87937","mtime":1640986217}]\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Singular and plural metadata keys are supported. Plural keys (ending\nwith ",(0,a.jsx)(n.code,{children:"s"}),") are treated as lists, whereas singular keys are objects."]}),"\n",(0,a.jsx)(n.p,{children:"Metadata entries are synced on push/pull and people working on the same\ndataset while offline can later sync back online without conflicts."}),"\n",(0,a.jsx)(n.h3,{id:"projecting-images",children:"Projecting images"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://user-images.githubusercontent.com/1951843/176517923-d391fc9b-24cb-4604-a134-51be9155c806.png",alt:"geoproject"})}),"\n",(0,a.jsx)(n.p,{children:"You can project images onto a map."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb geoproj images/DJI_0018.JPG -o projected/\n"})}),"\n",(0,a.jsx)(n.h3,{id:"creating-static-tiles-xyztms",children:"Creating static tiles (XYZ/TMS)"}),"\n",(0,a.jsxs)(n.p,{children:["DroneDB can create static tiles for GeoTIFFs, drone images and ",(0,a.jsx)(n.a,{href:"https://entwine.io",children:"EPT"}),". It's similar to\n",(0,a.jsx)(n.a,{href:"https://gdal.org/programs/gdal2tiles.html",children:"gdal2tiles.py"}),", but\nit's faster and can handle more formats. You can use\nthese tiles in applications such as Leaflet or OpenLayers to display\nthem on the web."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb tile DJI_0018.JPG output_tiles/\nddb tile ept.json output_tiles/\nddb tile orthophoto.tif output_tiles/\n"})}),"\n",(0,a.jsx)(n.h3,{id:"building-point-cloud-tiles-ept",children:"Building point cloud tiles (EPT)"}),"\n",(0,a.jsx)(n.p,{children:"DroneDB can build EPT (Entwine Point Tiles) indexes for efficient streaming of point clouds:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb ept output/ point_cloud.laz\n"})}),"\n",(0,a.jsx)(n.p,{children:"This creates a hierarchical structure that enables fast visualization of large point clouds in web browsers."}),"\n",(0,a.jsx)(n.h3,{id:"generating-cloud-optimized-geotiffs-cog",children:"Generating Cloud Optimized GeoTIFFs (COG)"}),"\n",(0,a.jsx)(n.p,{children:"Convert standard GeoTIFFs to Cloud Optimized GeoTIFFs for efficient streaming:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb cog output.tif input.tif\n"})}),"\n",(0,a.jsx)(n.p,{children:"COGs enable range requests, making it possible to load only the needed portions of large rasters."}),"\n",(0,a.jsx)(n.h3,{id:"extracting-gps-locationsfootprints-to-geojson",children:"Extracting GPS locations/footprints to GeoJSON"}),"\n",(0,a.jsx)(n.p,{children:"You can quickly extract the locations of images to GeoJSON via:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb info *.JPG -f geojson -o gps.geojson\n"})}),"\n",(0,a.jsx)(n.p,{children:"Or for image footprints:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb info *.JPG -f geojson --geometry polygon -o footprint.geojson\n"})}),"\n",(0,a.jsx)(n.p,{children:"This works with orthophotos, elevation models and point clouds as well!"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb info point_cloud.laz -f geojson --geometry polygon -o footprint.geojson\n"})}),"\n",(0,a.jsx)(n.h3,{id:"generating-stac-catalogs",children:"Generating STAC Catalogs"}),"\n",(0,a.jsx)(n.p,{children:"DroneDB can generate STAC (SpatioTemporal Asset Catalog) compliant JSON for interoperability with other geospatial tools:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd my-dataset/\nddb stac\n"})}),"\n",(0,a.jsx)(n.p,{children:"For a specific file:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb stac -p orthophoto.tif\n"})}),"\n",(0,a.jsx)(n.h3,{id:"building-3d-model-tiles-nexus",children:"Building 3D Model Tiles (Nexus)"}),"\n",(0,a.jsx)(n.p,{children:"For efficient web streaming of 3D meshes, DroneDB can generate Nexus files:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb nxs model.obj output.nxz\n"})}),"\n",(0,a.jsx)(n.p,{children:"Supported input formats: OBJ, GLTF, GLB."}),"\n",(0,a.jsx)(n.h3,{id:"generating-thumbnails",children:"Generating Thumbnails"}),"\n",(0,a.jsx)(n.p,{children:"Create thumbnails for images and rasters:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ddb thumbs *.JPG -o thumbs/\nddb thumbs orthophoto.tif -o thumb.jpg -s 1024\n"})}),"\n",(0,a.jsx)(n.h2,{id:"commands-reference",children:"Commands Reference"}),"\n",(0,a.jsx)(o,{})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},5195:(e,n,t)=>{t.d(n,{A:()=>m});var r=t(6540),a=t(6342);function i(e){const n=e.map(e=>({...e,parentIndex:-1,children:[]})),t=Array(7).fill(-1);n.forEach((e,n)=>{const r=t.slice(2,e.level);e.parentIndex=Math.max(...r),t[e.level]=n});const r=[];return n.forEach(e=>{const{parentIndex:t,...a}=e;t>=0?n[t].children.push(a):r.push(a)}),r}function s({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return e.flatMap(e=>{const r=s({toc:e.children,minHeadingLevel:n,maxHeadingLevel:t});return function(e){return e.level>=n&&e.level<=t}(e)?[{...e,children:r}]:r})}function o(e){const n=e.getBoundingClientRect();return n.top===n.bottom?o(e.parentNode):n}function d(e,{anchorTopOffset:n}){const t=e.find(e=>o(e).top>=n);if(t){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(o(t))?t:e[e.indexOf(t)-1]??null}return e[e.length-1]??null}function l(){const e=(0,r.useRef)(0),{navbar:{hideOnScroll:n}}=(0,a.p)();return(0,r.useEffect)(()=>{e.current=n?0:document.querySelector(".navbar").clientHeight},[n]),e}function c(e){const n=(0,r.useRef)(void 0),t=l();(0,r.useEffect)(()=>{if(!e)return()=>{};const{linkClassName:r,linkActiveClassName:a,minHeadingLevel:i,maxHeadingLevel:s}=e;function o(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(r),o=function({minHeadingLevel:e,maxHeadingLevel:n}){const t=[];for(let r=e;r<=n;r+=1)t.push(`h${r}.anchor`);return Array.from(document.querySelectorAll(t.join()))}({minHeadingLevel:i,maxHeadingLevel:s}),l=d(o,{anchorTopOffset:t.current}),c=e.find(e=>l&&l.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e));e.forEach(e=>{!function(e,t){t?(n.current&&n.current!==e&&n.current.classList.remove(a),e.classList.add(a),n.current=e):e.classList.remove(a)}(e,e===c)})}return document.addEventListener("scroll",o),document.addEventListener("resize",o),o(),()=>{document.removeEventListener("scroll",o),document.removeEventListener("resize",o)}},[e,t])}var u=t(8774),h=t(4848);function g({toc:e,className:n,linkClassName:t,isChild:r}){return e.length?(0,h.jsx)("ul",{className:r?void 0:n,children:e.map(e=>(0,h.jsxs)("li",{children:[(0,h.jsx)(u.A,{to:`#${e.id}`,className:t??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,h.jsx)(g,{isChild:!0,toc:e.children,className:n,linkClassName:t})]},e.id))}):null}const p=r.memo(g);function m({toc:e,className:n="table-of-contents table-of-contents__left-border",linkClassName:t="table-of-contents__link",linkActiveClassName:o,minHeadingLevel:d,maxHeadingLevel:l,...u}){const g=(0,a.p)(),m=d??g.tableOfContents.minHeadingLevel,f=l??g.tableOfContents.maxHeadingLevel,b=function({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return(0,r.useMemo)(()=>s({toc:i(e),minHeadingLevel:n,maxHeadingLevel:t}),[e,n,t])}({toc:e,minHeadingLevel:m,maxHeadingLevel:f});return c((0,r.useMemo)(()=>{if(t&&o)return{linkClassName:t,linkActiveClassName:o,minHeadingLevel:m,maxHeadingLevel:f}},[t,o,m,f])),(0,h.jsx)(p,{toc:b,className:n,linkClassName:t,...u})}},9365:(e,n,t)=>{t.d(n,{A:()=>s});t(6540);var r=t(4164);const a={tabItem:"tabItem_Ymn6"};var i=t(4848);function s({children:e,hidden:n,className:t}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,t),hidden:n,children:e})}}}]);